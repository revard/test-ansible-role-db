language: python
python:
- '3.6'
install:
- pip install ansible==2.5.0 molecule apache-libcloud pycrypto
script:
- molecule create
- molecule converge
- molecule verify
after_script:
- molecule destroy
before_install:
- openssl aes-256-cbc -K $encrypted_55ab73f1a842_key -iv $encrypted_55ab73f1a842_iv
  -in credentials.tar.gz.enc -out credentials.tar.gz -d
- tar -xzvf credentials.tar.gz
- mv google_compute_engine /home/travis/.ssh/
- chmod 0600 /home/travis/.ssh/google_compute_engine
env:
  matrix:
  - GCE_CREDENTIALS_FILE="$(pwd)/client-secret.json"
  global:
  - secure: uxSBNRJ2nyvJGATrH3LLJOIjsI22H3vekB+SRrnKe3qHDy7/iAwn0IXxIbg31urJ3x+avFr0nI/XalRp8KrMGARaH8JMKN1pUN+8ZC/lPtJX+WRuKiGNK+q9hllg5ToFj07Eb4fBwkAe+/IrEUGKJKJM3opO4Sk77zkcg2K3VR2DiYPM5Udj8Od/q3dVAvh8wVKwPkn+XLNMtXxqSaS2VWB5KJTAZWcYC6pVloSrOVO3TFNQVynwR8g8UJm+gejNgJzqoi+O1W/04gqJjgSoBvX0JMt+LmBycyYCQ2nLDjoE9eF43A2NVFAaVYXGIl9fcr/PYtFPtDPFRCTPOlyAK2JS1smM9fWOj1c/aYL0bLI0fXDOHXlpydIEtBiaL/sZr3y05iV+FHWFfDvfuqedjZc1m6CR0SpUOMcQQpumRdH1dygDY1E9recoz9r8kwn6V0gtucdcJLdYGFb3yIxg0PBdmE8Zzp30ME8C2cFNEdEUGZFtH1foHB9j8dEImTh1y1fIonluJtlbvlzYUtTDQpi/52N6gEXSBiH25KJLzboE+6/DC/Dp+VlNmVtETU1vBqJWAiGMXbSaiEwkiQyWrmM5cP1AwbV5ZfqpxbCqXlUhNg8xjSIZPunHFSlweALM2FL7GAZ7OQCJHeAR5+opIOypN5KxaGZuxBY4+xKMsjk=
  - secure: wTXUgnT2bdykqsrVJ/ZYsaaOwpJyofd7GqhLyXmodYZDkSTMHCbxIhJlZzwpG+N8pw+UayobwmpcOW+alIf4MsnG8YiuGITlVjKa2EQZkDgv6+KkSpMXyFQEtsNnNEq1fupgn0TyoE12YlMR5mExyn5uPad6JFICFq0W1EOlBQg/ALvQixzlK1DpamwSKB2oDRB26wuR/89eaLf5C0yvUgA2PmNMC3DwPCYxkKiqRJJcMeWdSp26tL4/807bUt5l7dzoIKrR7LKt+6hb4qDb/2jEs3p4zYxbuLBUUi8lZYJe3RKIwLkyeYcZQFWntb62SUJzdhOmbu0wPKHIoSPCKZ5ngSIaOVIYY9/V6kwgEiN0UOYDKy+NxqF1gv+jSVUnFnf9jkzUW8dHmQWRhfTSIcbmqnzCmGApcgiiAs3D4P0GTKdQWdmCtuA2IrzORHdAEs4I8z00qnI8llH8ET08vmmsb5Fvfu9KPu3ZUfmuVF9FXPrJM3PLyJPJcE2A6qlTCZrJLWKqF6GzFYOh7Fl25zlmNdOAz8zo+Om3kVRKEUPnuvWZqRkPettZMiQBYCvl4405mimsBLmaeRi/DyQ6Vva4M+JmLG8XvMvalA7q7KkF1gwvYhXfxmPozS/cJFvTERAAmJ8/ofXolf8UW99urAfnM+0eSPrkFWGLvLCJc78=
  - secure: MFTj9hdTvTY/aUDFN3uI673MlChDeFzKxrdJHuhGs/37nRfHhVcwnN/9Rc/0VjW+pEhx9w1gWz6UWiBEZZo6LacHaWYSm8yaH6/5rQDLpZiHLsIqaJnSF7AMyhUHUmeOjgkAzBlQe+f/+OnhFTcV95bShvrKcq03WhBY4ymSvFmWwwdOg3cbJLuiga5Q+85SDu/nTtpkJKP4GADqbUNlibHza0qMBwJwTlPo+yoLjHSInRgdXyKsdL8FyiF+VweZ0deBObJpk0Xamw+m5mFzOwaj6xS8/YmWCcYwtJQ911sE9n0CHbaR+5IeTKlXKbHSYi7F+NU7/Ahwwmh3VlcXcVWYTIICV6smr8d6Vq3ya6K0bC5eP+tPGbSLVh8gH0F9ysbF8O7tBcXyXUpSIJw7n/m0cTf/Sc17FCUvFkD8JwkbmlPFj6EItpEugsEoZjfklJm5CzWx0MYMgedc1Eu4lipDK43C6tbBt+VzDMFrNTUAewXGzINcmy77Gv3B1CBU54il63wK9e1nHlxNIylaqrY5fOaaIbBWXJTueU4b3UV8UG3QmHRxhXMcv9BxS777+J60qebM+Gv7J3BzG6GHF9VU1wHhs/89MOUI8Oxwl7OE55yKJHkhp9orcMn4s+k9Ob0b18Hc+v9bPg4WYqclFR3HmqqyPvWOVxjs2A6aJ20=
