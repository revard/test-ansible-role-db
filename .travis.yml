language: python
python:
- '3.6'
install:
- pip install ansible==2.5.0 molecule apache-libcloud pycrypto
script:
- molecule create
- molecule converge
- molecule verify
after_script:
- molecule destroy
before_install:
- openssl aes-256-cbc -K $encrypted_55ab73f1a842_key -iv $encrypted_55ab73f1a842_iv
  -in credentials.tar.gz.enc -out credentials.tar.gz -d
- tar -xzvf credentials.tar.gz
- mv google_compute_engine /home/travis/.ssh/
- chmod 0600 /home/travis/.ssh/google_compute_engine
env:
  matrix:
  - GCE_CREDENTIALS_FILE="$(pwd)/client-secret.json"
  global:
  - secure: M3moY5BDT0UhT296ozyjoyuHR5lvk1+Tg6ORAl3O3xB1AFj6CRXS4d/6zlvrtOr53EzT440jiOo8dF12mXYozLxqjQj7V+1HPPHaAxuUTOJh0GmEbK+2XKfmWLdcNMOQ7LxQ3CDgtBVbB7eSPmrhDeCiKp3UL028O8iMnl3XouJus6E2gQFIOq51bUe4sA9RbXuSrICkQNdn8A8xUqrdueH/hI7lnB7dGq6fvS1EK4RWiPSbAL2QyisGYtFlI6HBmd18iZWHTEDN4nkOdJeCxEUTlWRxdGMjA+Lbz0xzlgLs9EsPAHD+GpMZSThfMptgYHYC1gaLHoCnTsbhejO4OTArCiJ1F/vzmq0JZc9KyWR8D5+w6NFeKp+uWCm+z8MScbAfOCdexLE4nF6i670XjSKFwA153Gljh/StbVvtdtI62okup5qfAfBt/A6LQf/a2SQ4acHBmfnLTo39MDosUoLMRfb67JxXpuSIh7SE391LknWyIxBOUvvtfyyFFu6PaObiZz1ReO21dZn5/MmKwQytWHce6OPnnmoWOEQyl4NCz9StubJklYpaq4lLAOhYvCWHfGsUyYgYwy3Ps8jtsXUFik0pngrXq5WbyZuHiRCsnzUdSDHWIETceaFLDcTUGrQwsx5sY4BxFX6bYvVk4O3C1g1Jcv7vZ0LlhgV71f0=
  - secure: dF3hM21vDQtQzf8s2sR69uyenNFEUXTaiDsTzx9O6JnKfYJ55hwzOD53hFM8sJrwW5HcigrrdlxAE6RbY0iNCo7+cVdG8sdXDznzzV55FfFZFpxp3RzXFsV8EoOed7KeoV7Yr0wG/4lwkQbp0ZEhQH5UDtAXvLz8gnZXzgBnFp8zwhLLKrsRFTpbzAEWisOahH544naWA63uSo/NhbB/hPnynkHlPFJFvKuXpTjJJjoDHGfOHA5SjmOxOMDzjoLZObWvIW2BeQpK327qRHF8Tip4/x93a+E/XDIr1xjc4eCIHHdfOCATXAWhhHAenHE8eYUDfy1MaKyH1BAaxA2bmHU/W/73x/HFQXTSixA6UOpPoQ3c/kjQkn18KWKy1shLF21iSBfKbaRlzeBXdQJkWiQjQPsYsW6gsKkKkBEwJt972MSX52ZKNj+8wKHA5Vc7YnNNDP3YhbZDQdY7p6MwX8KSC6KI79oF/Hl6JCPcTMwrS6OVDl1Lmh6nW1+97LkhxcDrYWifuu9gfhT7srHngzTF3XWDtm14djQYlL1nXg/lOO+3/rMttwvOGJzGMy1qj1dWXstleJrtkBU1o4/DgKvKQx+9r8XSmS2099WW87GdHx3yshBraEvmfJflN5K4esPPV7g2K1t1VpJUtVMZofL7BL+sDo57XeZGFTTpNws=
  - secure: OnJUBzonATD1f/U8IHqsEQTIXZNzNNbClrbLyMnfX4c0zrQ8+22kP83RYdSRFWf0/2emwrO580UUpfOhnBhua6fFLK9CitwtasDn/JKU6sLOJjvUza7t54k9ZKim8MDUb9vZqc2ZE0oSpb8sib29y/6xwQ6QgesHNhL3TreMp8upezd/XIyMBC/5pSLSVX69ndhxlNDki3y3ZJnILt3XWAqVD6TVmxYlXMHzagPoXvTruLYCltj8UwwGjuVpq5ykpa8cZGKRTYmy2X3SPfII/0+NdpsE3YfNPdx3+ulGrmNGTwQr862CLRXX82nreWQJjQm6NGUen8Is0+uRoJCilyuohMA8edxXPIWjS8cwWA2QCCF6c+JFIN+lzbDpeHgkqFfDqFhGMwE357gnTFAqQI5+CwieaSTnkaDPtD6iN1Z+uU7ts3RBHjNzxAamIHraKeMqohbxbvV/62K4faMqw2lZXLxrYxoraY+rH55zST6awi9X1GIdeAbYOCh6Y0RLbKXLD5BTAbbl1MU84wwhJ0Qn9hTdQc/VjDw3GSQPggb+jWOTdLqX4z/A4yr5UeJ63bGp/afkldLLKdeIpsHDxtEGc1z7ptme2mY3bbGOB8VeHofb1cI4GkRCj/tw9wSoAjocCMmdoxJqt2Ufu/KShyHwwgF/EQywMKZM5WOeL8o=
