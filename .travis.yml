language: python
python:
- '3.6'
install:
- pip install ansible==2.5.0 molecule apache-libcloud pycrypto
script:
- molecule create
- molecule converge
- molecule verify
after_script: 
- molecule destroy
before_install:
- openssl aes-256-cbc -K $encrypted_55ab73f1a842_key -iv $encrypted_55ab73f1a842_iv
  -in credentials.tar.gz.enc -out credentials.tar.gz -d
- tar -xzvf credentials.tar.gz
- mv google_compute_engine /home/travis/.ssh/
- chmod 0600 /home/travis/.ssh/google_compute_engine
env:
  matrix:
  - GCE_CREDENTIALS_FILE="$(pwd)/client-secret.json"
  global:
  - secure: jueqo9hkeA2uHZVVJsyxfIks4+AXdQX7Ywok4yIvR7Lf/Bs8zTaWbR1TR1oNoId9UJG2mMZytn0RWKnZRpfiN8Z61IkdA8TIiD//mGkzjHvdijxntJHtQpN3hrw4uo/klrZPesTqBNmSrgDp4fghwpaG88vWAE1CsFYWQVcE5DbZ2vCMEou6/9qRePVBMm2m1lVmTGftlMXyqa7LWzuHFnjNMmZ5AMDAy6QkIo6NF95kIauyshkxdazBErPoa3Jye8hWM+RngSIucZZMolKAdMhZJwHfQVGJWN/Fyh14JQoiUXddZZpH/lCxNvp8O3g+np7+bU27l18BNIv3xTzGnapz1zzoIeuw8UZCazZ2BsUezlMk33WTzBjawtc623Ru2BJlgv0uxqoiAMLdWarRTcz4+6P3F0HZSd1XBWuJ+P5sStwHblWC7mw7psEALrQC+GLgM2LIAIb7ZcG/qS0aXauq+5UuebnNk2egJ5u0vqCB2/u3oCrVnznPMowtyE4TgaRHWQ0snXbjiY33zROPx44ruod/jB8yV4LntPjzltJ/pegiwNu2jh+ABy0HiCbgxdEkZ/fs+YSIi1/BUD3EOFQF8W23U0dxq5YBmNcXv/WVp2tSWHfvRF0bulg5dGa+gKXJhymtxgqQdkzmKTHWf6W+0wiVPU5AIXm0TWSVEVc=
  - secure: fZNS4QfL2B703Yl8ye3vRWNR/qLFBc8Nqm0QeKzCbjBPgxwX4jW7BrKlpIbxaJ0pSfLRt/3O/pBPuWV42eVgvSU2MtILpYdbzwqn3Xbu4c+hy38/EKEJiCZeuaCMvHDQpGfT4bMOa9pPG5BSQExxhjIGh0jYqnl6C1DLsy6gaY9bcD8z52LFOJEGH78V3BQQdTlfs4T2d1ezTjjj/yYxmeQ1TSDwU/qnSut0eS7pLANLGK030h1IX8wpjcZeiiQLudxCeepZgT0rSKfPL3iRNIFkXAmVhopQ3mR6ipeSJIPbZOAgUejXNXuT0gCbKqbclj8orcfpUA/ElXM6hdqo4uf4Q3x+7PxEgtKxaes+z9pwzHd4vORqKfYcgrnnrhKeulKSO9rMGkSHWIl9MLv5Ey7VLwm5z3tozM/WnLIFxsBVc3UG2LJI0ltJpm8aI5LcA8lOgIAuc5OrgilVXlKqmtlJANh6njgH6xPBq7l5YMfrX9JTOWYp3a8Yf5akemGeMmWM8K8GGfzmxyNR3Pw//2YsD8z8QJb19NzpKwDJ/KKgg1QYqynA43xdKd7RWwwuQYJb1nFiWUhOej7QtQR9YEvbRaCZBBBQv0+UzA5r+rVdMQsHBMdrsFY0nt5xeRndOb2NcFovC0jxoTFkgttDvwN8Qpyewtqm7IPKlbBeq28=
  - secure: VLpDc+VM/0YvfC+VEnkFG2m2Ht5GunsLMmVMjzuO6V0tP6vpuUSf35MfpI+6zREOI+cLwRfqlinrLUnBriEESIecNQDBwfdv/9THixo+N45268KCAULsJdkBShSgU1s+2vg/JIawbxWYJFgF3l5teaF4LCDWBMDVHdeUFXRZ2RR0YpPY+pt4inUSX+bbGX5F9fOaXEe/IBCOwRUeOx3aIqyHNBf20Yl8WhJAdmgdULzcyIekVuYZ3/FmB8Bo8WLFb0tdgph/3YE5gJuo/BtsOGLyAUH5So2luCImF4o6IRIm8MJA65JZJ4yFaU/tq/dAgwlykJXncqumwIrS7BNLZG71hpkycvpYjfT9aXMpx5MTLcizVqfkNabu/tuS5+fWy4ybmZyVH6zd7CYyRcZ7bDUe7s5KEDYyUukw1J85eYHO/4FbaEyUCBhsIHujGOGqfgLoU1alUZ2KuqraPV8jceSjHp7ypzZSx1oGWzCHM0pqdbDtUsR2AqnSw0WkkDlWBnty0vXhcDIw38uNlxdDtC3IEvual1wLOr+3IvFUEdW8M0LgO0FqP4g1OjPLRY60HRXRNwb8KRDVTMOwx3GwVjD9YvG2gPhM30BST3UM442mdagtRuR5/WMA8T6L39CNAJtZ/I0Xg5nXq5/i/yk1fphkjiAVJCkgdQSfJBPtcms=
