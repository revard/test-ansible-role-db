language: python
python:
- '3.6'
install:
- pip install ansible==2.5.0 molecule apache-libcloud pycrypto
script:
- molecule create
- molecule converge
- molecule verify
after_script:
- molecule destroy
before_install:
- openssl aes-256-cbc -K $encrypted_baa9c32b04e7_key -iv $encrypted_baa9c32b04e7_iv
  -in credentials.tar.gz.enc -out credentials.tar.gz -d
- tar -xzvf credentials.tar.gz
- mv google_compute_engine /home/travis/.ssh/
- chmod 0600 /home/travis/.ssh/google_compute_engine
env:
  matrix:
  - GCE_CREDENTIALS_FILE="$(pwd)/client-secret.json"
  global:
  - secure: gnC3wG2kfu+UrXgO2OMv0Nf9xa6cpeOEOqKMEDeTx2UnfVdCUhMyqQHa6++YmGQTPV9HrAMdPLdO3dYQiqeA1VbsUj5xy/UqFdn8ATkh7laEdEcupFsMndNjzK0vRuPMj5W72E4VFgQO8XI3AtCWucnK3K9KSRxu8egPBCYzc247sz7xnhATT9usA7R90OjuavbcKhifexEIUtLHIT4pylLkTJBXoAErTIlX2alX0VEDZwhzxGWxjNgOqHm3BZmEkueCQ+Z8SOKP68qfERM0AXDxGMY157uK+GLciazvCyP8ZmMtoFXUkdTvoVDmtxMiW1sXq4NYqC1QA+zwpgOpLPJllxjnBmlllvsYPHlPjIH6uTXyf+ToCesTK/S6AjUbY6xAb8ASyFHYVDjILmmPiRKIZg5FRDS/xyKJNN+iJAN3APp6o5iT0Llq/Qst/hnFvXi+Gy5Q65eoiESr2pq0ZmEJdtLqDfeo9YekVx3pjY20/mn36gl+JQ1yebVlTnyW0e38KckwUvZjb0dgf4YDnpOo6roUgRluj9ExZrTi1iKi9p0/fnMpidKfsQtqP/Pu6agcjw4MpmJHTQm04i7sh0Y16XUFHTJ17VfyfXE8LyFLHiTHvQQ0t4cf8PSSXnj9Qm4nGJA7abx5mFlPB2+MY62RjICj3wweS42uP1nrBXs=
  - secure: Ma/kzvk/HL7yYqPaX4SZ48OnXH24EpjK/Bhl844uRkXhY8K/nuud6ClP4LB5OSjTix1wKnB0PzMmzeKyfUPu3iZ7B5xdONXMAUmQeDDPEOgBiPOkwHbhj6Et5cRDBBAW81CJF+V77XSW22kYCAHSQDjNwgTpvazps5nRAZKMucS0u3MAdNEHhro863XkZmYpivdZY5Mk/JNXNJvMSV4np64lmUpV8En489sNBcMpYDf0qHsutfK7LWEm0IHC9ahpESDbyqzlzxJA8NX3F7TjCc6MR8DnvFSZhaDHyIP+Z1n+YRIYMONgcR7mvArJ1Tw6kYERfZQS+N+hEeylQ6d/LWgazXC/Kh7jPpfiTqzJCnm7JoHBRN9oMmGQKYiVSHsrVlrBDvtqaUOHda0YSw8xtT371qJ5F1HpcGeorLWfnQ2IqlWPHhHD/JnfZtSt6Q8oYEGQMcm0vzL9WjVM1Wc9YKvfxXttLQFfNNadnLqjOuoW/+0iGwVW57b2IUaiYWUOk7Dp6Gz8tXWzEcMnVMK4AaynC2Jdg3MGW3i/0dj22cWS3VV9FDBdDnZJgPSmG8oXyzmmI1bZtgK8jyunY2iB6JQYVDOzm9tNGDRp+F7KKRxz2/hIt5kYcmJKBcymDeX4GLq7YkZJqBScpWC8xjBetRlxAs6jx9/OsqNBiKX/zPc=
  - secure: UX8d/pZjqlHM2jFEd96+E7fg4vEJ9xNhNUEvTJDs/d7lkZjv7mh9fR3A6Uhy3ufs63UT4DWxMAGsvXMKvUlD2XobVDHPqyievg/wXt43T29ZuXwjvDBJPj4kerJ35AAr/zQw5Q/Cc4CbkAmyVrbpiK/EH6kGpOTK+rInQEBs3cjclzC28X3i+OEp/6Sk+6miJxYnNpiqUOqNipvtEU9aHcsf9lwYP6BRiWjM6UQqH43Fb9B6l3mK6dSbG7v1fo1+75WM0mqMXw+kdR+c0asTdHoFXmE48CamCUkegRytXXiulWPqVGiIWs5Lzf77D8Q7/+0xhp24/gTIKK1e65m9n6SPnub5sAeXOz3PEYkpLSJ7MFQzXH7MNXpnAOpL55m82BZ/gY6PNrRSaPxS6jmrxn995nDjAlg8lELriQm8gbrLJSdRTH+aer7blT/k+CG89bc6CVY+CuFRP3eedoGwc55rODj1KRKa9Eh6zftiVqBH/l2ARF0kLXq/gjl99Dh1so3sUHmoGn+a6FlQBMhBuTWa/eewNd8NjJaYwIHBG7F85ddqWzRYniJociyTaF8HP5ylFXWA24iV1+EySwhNqNdP9UYrKSjhV36PEiVJsHRJ8pVQq1kl5izNAU16Mk75+o7AEAdgXivDppjBqsoQoJBMxe5RFN1PIYdxdoMWGJs=
  - secure: BleLblZYoy3nEa9tzU+QMDipYWQGGrFFmN7v09oTWh2VnaQqMEAgVfVYWOQwSjb5p6yGxhoUdW/ktWmlUM3Ys3O9zrdoqXRqbsBPPYZC6/b/tvuezSTVA0QQ3H9OXyzQastwJvLk7jrB5HmEGsoZLV4NC+sGkhAIVKViCXt2HB147fYM2UGJb0OM/qh1YqtSgWextGxOhuOYCOoQywNEyps/wwrdBz0ZQFCJ/qY9+6WMxhNDnB/QBjdLMMyUg1w5Z7lA9wD3EU6ZxGh0krk1FEVzLVgPESSHkTsieMiGuPJu4eFqEoBQiL5G8ObT5MPoZZlaoi3flanAPFdXz2YKEQJ0L5W0RY+Nw8dGTTcq3jrZmcwjxqY/70Aid5ty/q22iPFpM65qVk9VR4EpDXCAPzmJDCqd1jxH/PknmXKm+hOMYHD6VBOjaXVqLKGt0wAnzVtymcI5Vr5KV6tPq1EcLVUMinpvuGGBnO7qami+XAqZzmyPK/4Y/2EVZbWX2s89rPSOLxgt8uSt9+aLj6bqTKEZRYjxKTz5yJr48qyDCOoDhvDAcjJAFAMKM/XuesbzF3qPH1e+y3qz/VAwCZFR14FNr7Lk9G5IMjYuATD1z2jr4cOmmZ3QVMsB0RKSeI1VNLpxoWauSv7eaJXRJMZu1rscpj7fkYZ6PTEfs1hrEPc=
