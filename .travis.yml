language: python
python:
- '3.6'
install:
- pip install ansible==2.5.0 molecule apache-libcloud pycrypto
script:
- molecule create
- molecule converge
- molecule verify
after_script:
- molecule destroy
before_install:
- openssl aes-256-cbc -K $encrypted_55ab73f1a842_key -iv $encrypted_55ab73f1a842_iv
  -in credentials.tar.gz.enc -out credentials.tar.gz -d
- tar -xzvf credentials.tar.gz
- mv google_compute_engine /home/travis/.ssh/
- chmod 0600 /home/travis/.ssh/google_compute_engine
env:
  matrix:
  - GCE_CREDENTIALS_FILE="$(pwd)/client-secret.json"
  global:
  - secure: NShqRQ8xKC3rRlo9bi021X+iR2WDIe7XciLSwZG1461p8BCt10YsiD1H8vitGayZpsZbNIuh7e2y1U5oLiUOkyUDjY2nz2GUp3HneP7dHIB+zo/fl5lYadhCQPQO/APDSo/AZthCfjOeemwcjvTZT2ORkJDq+u9flBYgRiA37a8u3CW6uB/mnj0CamMIfLDpWNBh+ODT/AtiFtkgH+wZJL6yuA7IIAFOK/v1rfRK3yzcvx0/SLNnLrFB9MJ4vs/978k3/+6utUFdOj72B21FMBfhsZuXaUH5PrB9BEPwXgDlMTaL/kAIIgt9OuvhGPNvd9fkxg2yJfZwHyXunIEBYFJExpPq1uwxpHAaxhM5cHV7oDOEKguctUlGwTd7RZiZuUHKPIGWVaLpz5HF0h6JF7iAVq2SytuePCPCLdfpsDLV3UYZuYKxKmVELKYkUDNqr9nrTy3lO932xnytoI7VAM4KqHV9iSTjQDYzVVfyd70sHns2S2eDgzg7Il4AYRyKElY0g8VdF6AIPCD4Up6+/27hS2+b0xsft3lcIcUCqPlnzojvV5oVZhZM+TRriQrZ03lBVz23SffxYXZ7kzvp8Ghqx/qnTX07qgb3fIq3MbJrfZ8F3Bjsgn5zE8x0EXM+7tEJHvLUvDo373nASlJa08z3BVXABrj8fdHuaRwjbYI=
  - secure: DuEhWgtOyeIL8nqPF6wHLRgfwXE7oVTZfU+6iW6K5MFSeMAkonWGs9vARTlqmoAxuwHJdMHd5YM9+XTF0nNz3RcLcATrr3BVS/5hAm4KkAepGV/zbIx76czRU1WakqRV952D/976SXt8kmUAcBMZOD898FR4KrclfsJaSuNq6pp9MFTltBVALsr9e5LZ4rFLA1A9fBsm4lASdI77A1a+HrJ6sE7+w9qqucwiTt9RMX2U4c/OmVgxlUU3CX7SyRAiGxrhZ36uKz9VEYDhAMaID0Etr1qDa78SoeUvAj06p3UVCwR9byp+uurnykOZa7fVcZWkpUnGmPL8LluM5CiH4XdzBgRkJc2FI2gCM9VqbIbLjyYVQ7KQbO/8lrk0GgztyXFxHY2ahwA9fLBgf8hRuGGV0rjW4AtwHo5gUM7YhKffiirqk31Gh10W9OsdKxX9lmbvDYwp1lz28JoolaVYZH349cZ9kVXn3Veac/69VwdlzuYSb8M7Fnhe6Wfw9fiiHNCJAIhvl1qouAbKRXUjASlToNqI+qUYx1nwZmnmjPVdbXovsWKzXHEBIaFuar4rb1ySMGjw3GV+x6ozbg285esfmxk6OuOQH82ClZewIhRiTqx2jcw3KLpTCY6Yf0IErT1zHj/K69izQ9RYAA431XPv2lDS4saiYC0MMEWToVQ=
  - secure: myAFo552YqrIlp/cxF7CDszZbGjCzRmqcxI3oJ7igiVcI1Dc8QrYqi/3YR0jJoMgM25d8uTQHyhUKl9P3Mv4JsASx9pR/3BrS5Fn2mlv5efeu9YRp5HcqTKIKQi4Obhnm0Mxr8QlyIvUNNHf87dfCEyyg8v/3yTUcZuza0f4eI+ZA4IleFdSlnmdVCeJSgZyYDVIuC+yELDW6eB7t4cVLIoO7+0fEBKVy+SYSaB60giFPP/CeGR7Pu68Xr+KXKVdQqHfAjHojD4/8OYiwk9h3adjOveepEP1CtApudr0g3l+hqf8URcqvSI+fZ9Jmzki9Qxd7YnGhCKhVRqASUCV5sz0xE6mvUtDLUTB5PP2/0+lA7AGdiEBWwHbpnmNn7oVzRYuiiH4xqk6SL12xWEiF3CKrJjT/1kbHNzxZ0LgnMbViJMG0oMaTNKIUuvoKZ4ZoAEQXYaYdknZz7vw4btder1al43BTLiIiojV7K4Y1fcfnz95Z9uDo8igqxS1D/YNQ63y3o/8p/44zf6bmzC8uUx7FDmtIjB5WeB+ddZRM/QN4/0+rErRFTjqYuQKSx+P0HWgg26yUNsQNVg2DhQTiwh0Y4w3XVpY8liQbJm5dgQUTBgnMs/vxAKwYq7aI/rMBeEeC0w7TuP+kEaXocanb37B2sHe216gaU3C+hoYxyk=
